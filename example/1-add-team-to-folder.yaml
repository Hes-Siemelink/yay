name: Get Jenkins folder
http.get:
  path: /api/v1/folders/find?byPath=Jenkins
#set:
#  folderId: $id
set:
  var: folderId
  path: id
print: ${folderId}
---
name: Get teams
http.get:
  path: /api/v1/folders/Applications/${folderId}/teams
set:
  var: teams
---
name: Print teams
variables:
- var: updatedTeams
  merge:
  - ${teams}
  - teamName: My New Team
    id: ${folderId}/NewTeam
    members:
    - name: admin
      type: PRINCIPAL
    permissions:
    - group#edit
    - folder#edit_configuration
    - folder#view
    - folder#edit_security
    - folder#edit
    - group#view
# http.post:
#   path: /api/v1/folders/${folderId}/teams
#   body: ${updatedTeams}
print_json: ${updatedTeams}
